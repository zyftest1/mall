//# sourceMappingURL=index.js.map

require(["base/MoGu"],function(MoGu){function _switchStatus(e,o){switch(e.model){case"关注":collectPost.addfollow(e.userId,o);break;case"领现金券":collectPost.getCashCoupon(e.proId,o);break;case"领券":collectPost.getShopCoupon(e.proId,e.shopId||"",o);break;case"收藏":collectPost.collectShop(e.shopId,o);break;case"锚点":var t=e.floor,r=$(".mod_row").eq(t).offset().top;$(window,document).scrollTop(r),lock=!0}}var lock=!0,index=0,parentDom;$("a.anchor").each(function(index,item){var $self=$(item),_href=decodeURIComponent($self.attr("href")).replace(" ","");if(_href&&/{([,]*\w*\:(\w|[\u4e00-\u9fa5])*)*}/.test(_href)){var _arr=_href.match(/(\w|[\u4e00-\u9fa5])+(?=[,|}])/g),temp=0,matchArr=[];if(_arr&&"object"==typeof _arr&&_arr.length){for(;temp<_arr.length;temp++){var storeStr=_arr[temp];_href=_href.replace(storeStr,'"'+storeStr+'"')}matchArr=_href.match(/{([,]*\w*\:['"]+(\w|[\u4e00-\u9fa5])*['" ]+)*}/);var _json=eval("("+matchArr[0]+")");switch(_json.model){case"领现金券":var scriptDom=document.createElement("script");scriptDom.src="http://www.mogujie.com/Anquan_Ncp/scriptzero?id=singlebanner",document.body.appendChild(scriptDom)}}}}),$(".mod_row").on("click","a.anchor",function(ev){var $self=$(this),_href=decodeURIComponent($self.attr("href")).replace(" ","");if(parentDom=$self.parents(".module_row"),_href&&/{([,]*\w*\:(\w|[\u4e00-\u9fa5])*)*}/.test(_href)&&!$(ev.target).hasClass("anchor_del")){if(!lock)return!1;lock=!1;var _arr=_href.match(/(\w|[\u4e00-\u9fa5])+(?=[,|}])/g),temp=0,matchArr=[];if(_arr&&"object"==typeof _arr&&_arr.length){for(;temp<_arr.length;temp++){var storeStr=_arr[temp];_href=_href.replace(storeStr,'"'+storeStr+'"')}matchArr=_href.match(/{([,]*\w*\:['"]+(\w|[\u4e00-\u9fa5])*['" ]+)*}/);var _json=eval("("+matchArr[0]+")");return _switchStatus(_json,ev),!1}return lock=!0,!0}return lock=!0,!0});var collectPost={getCashCoupon:function(e,o){var t=window._f_pa?window._f_pa(o):"",r=window._v_pa,a="http://promotion.mogujie.com/jsonp";$.ajax({url:a+"/getPlatformCoupon/1",data:{campId:e,_mgjuuid:MoGu&&MoGu.util&&MoGu.util.getCookie("__mgjuuid"),domain:8,platform:"pc",_a:t,_b:r},type:"GET",dataType:"jsonp"}).then(function(e){var o="";if(e&&e.success&&"SUCCESS"==e.returnCode&&e.data){e.data;o="成功领取"}else if(e&&"SESSION_INVALID"==e.returnCode){var t="http://portal.mogujie.com/user/login?redirect_url="+encodeURIComponent(window.location.href);window.location.href=t,lock=!0}else o=e.message;o&&($.alert(o),lock=!0)})},getShopCoupon:function(e,o,t){var r="http://promotion.mogujie.com/jsonp";$.ajax({url:r+"/getShopCoupon/1",data:{campId:e,shopId:o},type:"GET",dataType:"jsonp"}).then(function(e){var o="";if(e&&e.success&&"SUCCESS"==e.returnCode&&e.data){e.data;o="成功领取"}else if(e&&"SESSION_INVALID"==e.returnCode){var t="http://portal.mogujie.com/user/login?redirect_url="+encodeURIComponent(window.location.href);window.location.href=t,lock=!0}else o=e.message;o&&($.alert(o),lock=!0)})},addfollow:function(e){$.ajax({url:"http://www.mogujie.com/x6/follow/addfollow",data:{uid:e},type:"GET",dataType:"jsonp"}).then(function(e){var o="";switch(e.status.code){case 1001:o="关注成功";break;case 1002:case 1022:lock=!0;var t="http://portal.mogujie.com/user/login?redirect_url="+encodeURIComponent(window.location.href);window.location.href=t;break;case 1003:case 1032:o="关注失败";break;case 1004:o="已关注";break;case 1005:o="操作频繁，请稍后尝试";break;case 4004:o=e.status.msg;break;default:o=e.status.msg}o&&$.alert(o,function(){lock=!0})})},collectShop:function(e){$.ajax({url:"http://www.mogujie.com/x6/shop/"+e+"/collectShop",data:{isCollected:1,noCancel:1},type:"GET",dataType:"jsonp"}).then(function(e){var o="";switch(e.status.code){case 1001:o="收藏成功";break;case 1002:case 1022:lock=!0;var t="http://portal.mogujie.com/user/login?redirect_url="+encodeURIComponent(window.location.href);window.location.href=t;break;case 1003:case 1032:o="收藏失败";break;case 1004:o="已收藏";break;case 1005:o="操作频繁，请稍后尝试";break;case 4004:o=e.status.msg;break;default:o=e.status.msg}o&&$.alert(o,function(){lock=!0})})}}});
//# sourceMappingURL=index.js.map

require(["base/MoGu"],function(o){$(document).ready(function(){var i=$(".MCUBE_MOD_ID_577");$(i).each(function(i,t){var e=$(t),n=e.find(".mod-fr-tab"),a=n.attr("data-tabnum"),s=e.width(),r=e.offset().top,h=e.find(".item"),d=h.length,l=h.height(),c=0,g=e.find(".hide-height-use"),f=g.height(),w=n.data("org-font"),u=n.data("high-font"),m=n.data("org-bck"),_=n.data("high-bck");g.remove(),a=parseInt(a)||3;var b=Math.ceil(d/a);e.height(l*b),h.width(s/a),n.find(".item-on").css({color:u,"background-color":_}).siblings().css({color:w,"background-color":m});var v=!1,p=[],C=0;$(".mod_row").each(function(o,i){v&&d>C&&(C++,p.push($(i)),!c&&$(i).find(".floor-goods").height()&&(c=$(i).height()),p.length>1&&$(i).hide()),v=v||i===e[0]});var M=0,T=e.find(".goods-wall-wrap");n.on("click",".item",function(i){window.logger&&logger.log("000000104",{tabName:i.target.innerText});var t=$(this),a=t.index();if(!t.hasClass("item-on"))return T.height(p[M].height()),p[M].hide(),p[a].show(),c=p[a]&&p[a].height(),T.height(0),M=a,window._domHeightChange&&window._domHeightChange(),o&&o.lazyInstance&&o.lazyInstance.updateAjaxMap(!0),t.addClass("item-on").siblings(".item").removeClass("item-on"),n.find(".item-on").css({color:u,"background-color":_}).siblings().css({color:w,"background-color":m}),r=e.offset().top,$(window).scrollTop(r-f+1),$(window).trigger("scroll"),!1});var I=0;$(window).on("scroll",function(){var o=$(window).scrollTop();requestAnimationFrame(function(){n.length>0&&(c=p&&p[M]&&p[M].height(),o>r-f&&r+c>o&&!n.hasClass("MOD_TAB_FIX")?n.addClass("MOD_TAB_FIX"):(r-f>o||o>r+c)&&n.hasClass("MOD_TAB_FIX")&&n.removeClass("MOD_TAB_FIX")),window.clearTimeout(I),I=window.setTimeout(function(){r=e.offset().top},500)})})})})});
//# sourceMappingURL=index.js.map

require(["base/MoGu","base/core/datalazy"],function(a){$(document).ready(function(){var e=function(a){var e=/^(-?\d+)(\.\d+)?$/.test(""+a);if(!e)return a;var t=parseFloat(a);(t>999.99||-999.99>t)&&(a=Math.ceil(t));var n=""+a,o=n.indexOf(".");return-1===o?n:n.substring(0,6)};a.actFormatPrice=e,$(".MCUBE_MOD_ID_155 .lazyData, .MCUBE_MOD_ID_155 .coldData").each(function(){var e=$(this),t=e.find(".floor-goods"),n=e.find("#doTtemplate-single-goods"),o=a.ui.getdoT(),i=o.compile(n.jsp());e.listenToLazyData(function(e,n,o,r,c,d){d?t.append(i(c)):t.jsp(i(c)),a&&a.dynamicImage&&a.dynamicImage.checkImages()})})})});
//# sourceMappingURL=index.js.map



